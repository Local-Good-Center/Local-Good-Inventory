<div class="content">
  <button class="button is-success" (click)="scrapeEvents()">Get New Events</button>
</div>

<div id="event-container" *ngFor="let event of this.events">
  <div class = "left-div">
    <!-- Event Image -->
    <img id = "event-image" src = {{event.imageURL}}
    alt = "CookingClass">
    <br>
    <!-- Button to change Image that is shown-->
    <!-- <input type="file" id="image-input" onclick="updateImage()"> -->
  </div>

  <div class = "right-div" contenteditable="false">
    <!-- <span class="edit-icon" onclick="toggleEdit()">✏️</span> -->
    <h2>
      {{event.eventName}}
    </h2>
    <p>
      {{event.time}}
    </p>
    <p>
      {{event.info}}
    </p>
    <p>
      {{event.dates}}
    </p>

    <!-- <button class="button is-rounded"  (click)="toggleButton()">Display</button> -->

  </div>

  <!-- <button (click)="getEvent('640a50682157dc05a74ea096')"> Test </button> -->

</div>

<div class="modal" [class.is-active]="modalVisible">
  <div class="modal-background" (click)="this.modalVisible = false"></div>
  <div class="modal-card">
    <div class="modal-card-head">
      <h1>Save Events</h1>
    </div>
    <div class="modal-card-body">

      <div id="event-container" *ngFor="let event of this.scrapedEvents; let i = index;">
        <form #f="ngForm">
          <div class = "left-div">
            <img id = "event-image" src = {{event.imageURL}}
            alt = "CookingClass">
            <br>
          </div>
          <div class = "right-div">
            <div class="field">
              <label class="label">Event Name</label>
              <div class="control">
                <input class="input" type="text" name="eventName" [(ngModel)]="this.scrapedEvents[i].eventName">
              </div>
            </div>
            <div class="field">
              <label class="label">Event Time</label>
              <div class="control">
                <input class="input" type="text" name="eventTime" [(ngModel)]="this.scrapedEvents[i].time">
              </div>
            </div>
            <div class="field">
              <label class="label">Event Info</label>
              <div class="control">
                <textarea class="textarea" type="text" name="eventInfo" [(ngModel)]="this.scrapedEvents[i].info"></textarea>
              </div>
            </div>
            <div class="field">
              <label class="label">Event Dates</label>
              <div class="control">
                <textarea class="textarea" type="text" name="eventDates" [(ngModel)]="this.scrapedEvents[i].dates"></textarea>
              </div>
            </div>
        
            <button class="button is-success" (click)="saveEvent(event)">Save</button>
          </div>
        
        </form>
      </div>
    </div>
    <div class="modal-card-foot">
      <button class="button is-danger" (click)="this.modalVisible = false">Close</button>
    </div>
  </div>
</div>